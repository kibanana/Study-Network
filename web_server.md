# Web Server & WAS

서버가 클라이언트에게 어떤 페이지를 요청하고 서버는 그 페이지를 클라이언트에게 제공한다.

- 정적 페이지(Static Page)

  HTML 파일, CSS 파일, 이미지 파일과 같이 **어떠한 클라이언트에도 요청해도 동일한 결과를 보여주는 페이지**

- 동적 페이지(Dynamic Page)

  **JSP, EJS 파일 등 데이터의 처리가 필요한 페이지** 다. 특정 정보를 DB에서 가져와서 **동적으로 생성** 한 페이지를 뜻한다. 페이지를 요청한 클라이언트에 따라 다른 데이터를 가진 다른 페이지를 보여주게 된다.

이 두 방식 중 정적 페이지는 특정한 처리과정 없이 전송만 해줘도 되지만, 동적 페이지는 DB에서 데이터를 가져와서 페이지를 생성해줄 필요가 있다. 이 때문에 Web Server와 WAS가 등장했다.

## Web Server (웹 서버)

ex) **Apache HTTP Server**

클라이언트의 요청에 따라 HTTP 프로토콜을 이용하여 **정적인 컨텐츠들을 제공해주는 서버**

클라이언트의 요청이 정적 컨텐츠가 아닌, 동적 컨텐츠를 요구한다면 그것을 처리할 수 있는 컨테이너(**Container**)로 전달해주는 역할을 한다.

## Container (컨테이너)

**동적인 데이터를 처리하여 정적인 페이지를 생성해주는 소프트웨어 모듈**이다. 웹 컨테이너, 서블릿 컨테이너라고도 부른다. `.php`, `.jsp` 등의 요청은 웹 서버에서 처리할 수 없기 때문에 이를 **서버로부터 전달받아서 처리한 결과를 다시 웹 서버로 전달하는 역할**을 한다.

## WAS (Web Application Server)

ex) **Apache Tomcat**

웹 서버로부터 오는 동적인 요청을 처리할 수 있는 서버. 클라이언트에서 `.php`, `.jsp` 등을 요청하면 DB에 접근하여 데이터를 가져오는 등의 동적 처리를 해서 정적인 HTML 페이지를 생성하고, 클라이언트에 응답하는 역할을 한다. 웹 서버 기능을 WAS가 대신할 수 있다.

`WAS(Web Application Server) = Web Server + Container` 이기 때문에 WAS는 정적인 데이터를 웹 서버를 통해 처리하고, 동적인 데이터를 웹 컨테이너에서 처리할 수 있다.

### WAS는 만능이 아니다

> WAS 내에 웹 서버, 웹 컨테이너가 있어서 웹 어플리케이션 서버로 정적인 컨텐츠도 처리할 수 있는데 왜 따로 웹 서버를 쓸까?

1. **한 WAS가 처리할 수 있는 언어는 한정되어 있다.**

    만약 서비스가 다양한 언어(PHP, JSP)를 이용하여 개발됐다면 때마다 다른 컨테이너를 사용하도록 지정해야 한다. 이 때 웹 서버 내에 컨테이너를 설치하므로 웹 서버가 반드시 필요하다.

2. **Web Server**로 **로드 밸런싱**으로 부하를 분산한다

    서버로 들어오는 클라이언트의 요청을 동일한 서비스가 설치된 서버가 나누어서 처리하도록 한다. 이 때 각 요청을 분산시켜주는 서버가 로드 밸런서로, 어느 서버로 요청을 연결할지 결정하는 역할만 하기 때문에 컨테이너는 필요 없다.
