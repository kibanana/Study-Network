## OSI 7계층
네트워크에는 여러 시스템이 혼재되어 있다. 데이터 전송 시 표준이 정해지지 않으면 데이터의 무결성을 보장할 수 없다. 
그래서 ISO에서 네트워크 전송 시 데이터 표준을 위해 정립한 것이 OSI 7계층이다. 
7계층에서 1계층으로 내려가면서 각 계층에서 정해진 정보를 조합하여 네트워크를 통해 전송하고, 
데이터를 받는 호스트에서는 반대로 1계층에서 7계층으로 헤더 정보를 참조하여 데이터를 얻는다.

하지만 이 OSI 7계층은 이론적인 표준일 뿐, 실제 네트워크에서는 7계층을 정확하게 분리해서 사용하지 않는다. 
실제로 가장 많이 사용되는 계층은 TCP/IP 4계층이다.

각 계층의 정보가 아래 단계로 가면 그 정보가 데이터가 되고, 해당 단계의 헤더 정보가 붙고, 이것이 반복되며 최종 데이터가 된다. 
예를 들면, 실제로 인터넷에서 데이터 전송 시 3계층의 헤더에 들어간 IP 정보 
=> 3단계 장비인 라우터에서 3단계 헤더 정보를 참조하여 라우팅 테이블에 등록된 라우팅 정보를 통해 해당 호스트 쪽으로 전송된다. 
=> 아래 단계인 2(MAC 주소), 1단계가 갱신된다.

7계층 중 상위 7,6,5 계층은 **응용 프로그램에 의해 구성**된다.  
4,3(=> 주로 **OS**가 구성), 2(=> **네트워크 디바이스 드라이버**가 구성) 계층은 **시스템 프로그램에 의해 구성**된다.
1계층은 실제 **물리적인 장치**에 의해 전달된다.

응용 프로그램 구현 시 시스템 프로그램 단계로 진입하는 시스템 콜인 소켓 처리 함수를 사용한다(=> 소켓 프로그래밍). 
그리고 계층별로 생성된 헤더 정보를 참조하면 패킷 분석도 가능하다.

- **응용 계층(Application Layer)**
  
  `HTTP, SMTP, FTP, Telnet, POP3`  
  **응용 프로세스 네트워크에 연결하여 자료를 송수신할 수 있는 인터페이스를 제공하는 계층**  
  웹 브라우저와 같은, 네트워크를 사용하는 프로그램이다. ex) 웹 서버와 연결되거나 이메일을 송수신해주는 역할
  
- **표현 계층(Presentation Layer)**
  
  **네트워크 통신을 하는 시스템 사이의 데이터 표현 차이를 해결(=> 호환)하기 위해 
  자료의 형식을 변환하거나, 공통의 형식을 제공하는 계층**  
  언어 코드형식(=> 인코딩 ex. ASCII, BCD, EBCDIC) 변환, 그래픽 or 영상 정보 호환을 위해 각각 JPEG, MPEG로 변환,
  네트워크 보안을 위한 Encoding 전송, Decoding 수신 등 데이터의 압축과 해제

- **세션 계층(Session Layer)**

  **응용 계층 사이의 연결 설정 및 유지, 종료를 수행하는 계층**  
  응용 계층에서 나온 데이터의 순서를 결정하여 아래 계층인 전송 계층으로 전송한다.

- **전송 계층(Transport Layer)**

  `TCP, UDP`  
  자료 단위: 세그먼트(Segment)  
  **통신하는 컴퓨터 간에 자료를 전송하는 계층**  
  송신측은 전송할 데이터를 패킷(TCP / UDP Header + Data)으로 분할하고, 
  수신측은 분할되어서 전송된 패킷을 다시 조합하여 본래의 순수 데이터로 만들어서 상위 계층으로 전달한다.

- **네트워크 계층(Network Layer)**
  
  `IP`, 라우터(Router)  
  자료 단위: 패킷(Packet)  
  **라우팅 프로토콜을 이용하여 최적의 전송 경로를 선택하고, 이 경로를 통해 자료를 전송하는 계층**  
  IP 주소와 같은 논리 주소 체계, 지리적으로 떨어진 네트워크 상의 두 호스트가 정확하게 최종 목적지로 연결되도록 연결성 제공  
  주요 정보: 프로그램을 구분하는 데 사용되는 **포트 번호**, TCP 헤더의 경우 ACK, SEQ 값

- **데이터 링크 계층(Data Link layer)**

  `ARP, RARP, ICMP`, 스위치(Switch), 허브(Hub)  
  자료 단위: 프레임(Frame, 비트 단위의 논리 자료)  
  **물리적인 전송 링크를 통해 자료를 안전하게 전송하는 계층**  
  물리 주소인 MAC 주소를 사용하여 인접한 시스템까지 자료를 안전하게 전송하여 최종 목적지까지 전송되도록 해준다.
  
- **물리 계층(Physical Layer)**

  리피터(신호 증폭기)  
  **서로 연결하는 물리적인 링크의 활성화/비활성화, 링크 상태를 유지하기 위한 물리적 링크의 전기적, 기계적, 규약적 명세를 정의하는 계층**  

